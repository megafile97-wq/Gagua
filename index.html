<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Controle de GarrafÃµes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#22c55e">

    <!-- Estilo -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="app">

<header class="header">
    <h1>Controle de GarrafÃµes</h1>
    <p>Vendas e dÃ­vidas</p>
</header>

<!-- CALENDÃRIO -->
<section class="card calendario">
    <h2>Escolha a data</h2>
    <div>
        MÃªs:
        <input type="number" id="mes" min="1" max="12" value="1" onchange="gerarDias()">
        Ano:
        <input type="number" id="ano" min="2000" max="2100" value="2026" onchange="gerarDias()">
    </div>

    <div id="dias" style="margin-top:10px"></div>

    <button class="btn-primary" onclick="gerarPDFMensal()">
        ğŸ“„ Gerar PDF do mÃªs
    </button>

    <!-- LISTA DE FIADOS DO MÃŠS -->
    <div class="fiados-mes">
        <h3>Fiados do mÃªs</h3>
        <div id="listaFiados"></div>
    </div>
</section>

<!-- GRÃFICO MENSAL -->
<section class="card grafico">
    <h2>GrÃ¡fico mensal</h2>
    <canvas id="graficoMes"></canvas>
</section>

<!-- FORMULÃRIO -->
<section class="card form">
    <div class="field">
        <label>Nome do cliente</label>
        <input type="text" id="nome" placeholder="Ex: JoÃ£o Silva">
    </div>

    <div class="field">
        <label>PreÃ§o do garrafÃ£o (R$)</label>
        <input type="number" id="preco" value="0">
    </div>

    <button class="btn-primary" onclick="adicionarCliente()">
        Cadastrar cliente
    </button>
</section>

<!-- VENDAS DO DIA -->
<section class="card vendas">
    <h2>Vendas do dia</h2>

    <p class="valor"
       id="vendasDia"
       onclick="editarVendasDoDia()"
       style="cursor:pointer">
        R$ 0,00
    </p>

    <button class="btn-danger" onclick="zerarVendas()">
        Zerar vendas do dia
    </button>

    <button class="btn-primary" onclick="mostrarCalendario()">
        â¬… Voltar para o calendÃ¡rio
    </button>
</section>

<!-- LISTA DE CLIENTES -->
<section id="listaClientes" class="lista"></section>

</div>

<!-- jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<!-- AutoTable para tabela no PDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>

<!-- Chart.js (grÃ¡fico) -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Script principal -->
<script src="script.js"></script>

<!-- Service Worker -->
<script>
if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js")
        .then(() => console.log("Service Worker registrado"))
        .catch(err => console.log("Erro no Service Worker", err));
}
</script>

</body>
</html>
